import json
import requests

# all fields
fields = [
    "rawCreditScore", "Attr_05637_2121", "Attr_05637_2126", "Attr_05637_2127",
    "Attr_05637_2128", "Attr_05637_2129", "Attr_05637_2130", "Attr_05637_2131",
    "Attr_05637_2132", "Attr_05637_2133", "Attr_05637_2134", "Attr_05637_2136",
    "Attr_05637_2138", "Attr_05637_2140", "Attr_05637_2141", "Attr_05637_2142",
    "Attr_05637_2143", "Attr_05637_2144", "Attr_05637_2146", "Attr_05637_2147",
    "Attr_05637_2148", "Attr_05637_2149", "Attr_05637_2150", "Attr_05637_2151",
    "Attr_05637_2152", "Attr_05637_2153", "Attr_05637_2154", "Attr_05637_2155",
    "Attr_05637_2156", "Attr_05637_2157", "Attr_05637_2158", "Attr_05637_2161",
    "Attr_05637_2162", "Attr_05637_2163", "Attr_05637_2164", "Attr_05637_2165",
    "Attr_05637_2166", "Attr_05637_2167", "Attr_05637_2168", "Attr_05637_2169",
    "Attr_05637_2170", "Attr_05637_2174", "Attr_05637_2175", "Attr_05637_2181",
    "Attr_05637_2183", "Attr_05637_2184", "Attr_05637_2185", "Attr_05637_2186",
    "Attr_05637_2187", "Attr_05637_2188", "Attr_05637_2189", "Attr_05637_2190",
    "Attr_05637_2191", "Attr_05637_2192", "Attr_05637_2198", "Attr_05637_2199",
    "Attr_05637_2200", "Attr_05637_2201", "Attr_05637_2202", "Attr_05637_2203",
    "Attr_05637_2204", "Attr_05637_2205", "Attr_05637_2206", "Attr_05637_2207",
    "Attr_05637_2208", "Attr_05637_2209", "Attr_05637_2210", "Attr_05637_2211",
    "Attr_05637_2212", "Attr_05637_2214", "Attr_05637_2215", "Attr_05637_2217",
    "Attr_05637_2218", "Attr_05637_2232", "Attr_05637_2233", "Attr_05637_2234",
    "Attr_05637_2235", "Attr_05637_2236", "Attr_05637_2237", "Attr_05637_2238",
    "Attr_05637_2239", "Attr_05637_2240", "Attr_05637_2241", "Attr_05637_2242",
    "Attr_05637_2243", "Attr_05637_2244", "Attr_05637_2245", "Attr_05637_2246",
    "Attr_05637_2247", "Attr_05637_2249", "Attr_05637_2251", "Attr_05637_2252",
    "Attr_05637_2253", "Attr_05637_2254", "Attr_05637_2257", "Attr_05637_2260",
    "Attr_05637_2269", "Attr_05637_2270", "Attr_05637_2274", "Attr_05637_2278",
    "Attr_05637_2281", "Attr_05637_2298", "Attr_05637_2299", "Attr_05637_2300",
    "Attr_05637_2301", "Attr_05637_3002", "Attr_05637_3003", "Attr_05637_3004",
    "Attr_05637_3005", "Attr_05637_3009", "Attr_05637_3010", "Attr_05637_3011",
    "Attr_05637_3012", "Attr_05637_3015", "Attr_05637_3017", "Attr_05637_3021",
    "Attr_05637_3023", "Attr_05637_3026", "Attr_05637_3036", "Attr_05637_3039",
    "Attr_05637_3041", "Attr_05637_3043", "Attr_05637_3045", "Attr_05637_3047",
    "Attr_05637_3052", "Attr_05637_3056", "Attr_05637_3060", "Attr_05637_3070",
    "Attr_05637_3071", "Attr_05637_3072", "Attr_05637_3073", "Attr_05637_3074",
    "Attr_05637_3075", "Attr_05637_3076", "Attr_05637_3077", "Attr_05637_3078",
    "Attr_05637_3079", "Attr_05637_3080", "Attr_05637_3082", "Attr_05637_3084",
    "Attr_05637_3085", "Attr_05637_3086", "Attr_05637_3087", "Attr_05637_3091",
    "Attr_05637_3106", "Attr_05637_3116", "Attr_05637_3117", "Attr_05637_3118",
    "Attr_05637_3120", "Attr_05637_3121", "Attr_05637_3122", "Attr_05637_3123",
    "Attr_05637_3124", "Attr_05637_3125", "Attr_05637_3126", "Attr_05637_3127",
    "Attr_05637_3128", "Attr_05637_3129", "Attr_05637_3130", "Attr_05637_3131",
    "Attr_05637_3133", "Attr_05637_3134", "Attr_05637_3135", "Attr_05637_3136",
    "Attr_05637_3137", "Attr_05637_3138", "Attr_05637_3139", "Attr_05637_3142",
    "Attr_05637_3143", "Attr_05637_3144", "Attr_05637_3145", "Attr_05637_3146",
    "Attr_05637_3147", "Attr_05637_3148", "Attr_05637_3149", "Attr_05637_3150",
    "Attr_05637_3151", "Attr_05637_3152", "Attr_05637_3153", "Attr_05637_3154",
    "Attr_05637_3155", "Attr_05637_3156", "Attr_05637_3157", "Attr_05637_3158",
    "Attr_05637_3160", "Attr_05637_3161", "Attr_05637_3162", "Attr_05637_3163",
    "Attr_05637_3164", "Attr_05637_3165", "Attr_05637_3166", "Attr_05637_3167",
    "Attr_05637_3168", "Attr_05637_3169", "Attr_05637_3170", "Attr_05637_3174",
    "Attr_05637_3177", "Attr_05637_3179", "Attr_05637_3181", "Attr_05637_3183",
    "Attr_05637_3186", "Attr_05637_3188", "Attr_05637_3189", "Attr_05637_3190",
    "Attr_05637_3191", "Attr_05637_3192", "Attr_05637_3193", "Attr_05637_3198",
    "Attr_05637_3200", "Attr_05637_3202", "Attr_05637_3203", "Attr_05637_3204",
    "Attr_05637_3205", "Attr_05637_3206", "Attr_05637_3207", "Attr_05637_3208",
    "Attr_05637_3209", "Attr_05637_3210", "Attr_05637_3211", "Attr_05637_3212",
    "Attr_05637_3213", "Attr_05637_3214", "Attr_05637_3215", "Attr_05637_3216",
    "Attr_05637_3217", "Attr_05637_3218", "Attr_05637_3228", "Attr_05637_3229",
    "Attr_05637_3230", "Attr_05637_3231", "Attr_05637_3232", "Attr_05637_3233",
    "Attr_05637_3234", "Attr_05637_3235", "Attr_05637_3236", "Attr_05637_3237",
    "Attr_05637_3238", "Attr_05637_3239", "Attr_05637_3240", "Attr_05637_3241",
    "Attr_05637_3242", "Attr_05637_3243", "Attr_05637_3244", "Attr_05637_3245",
    "Attr_05637_3246", "Attr_05637_3247", "Attr_05637_3248", "Attr_05637_3272",
    "Attr_05637_3275", "Attr_05637_3277", "Attr_05637_3280", "Attr_05637_3298",
    "Attr_05637_3299", "Attr_05637_3301", "Attr_05637_4002", "Attr_05637_4003",
    "Attr_05637_4006", "Attr_05637_4009", "Attr_05637_4011", "Attr_05637_4012",
    "Attr_05637_4015", "Attr_05637_4017", "Attr_05637_4020", "Attr_05637_4021",
    "Attr_05637_4022", "Attr_05637_4026", "Attr_05637_4037", "Attr_05637_4039",
    "Attr_05637_4041", "Attr_05637_4043", "Attr_05637_4045", "Attr_05637_4047",
    "Attr_05637_4048", "Attr_05637_4052", "Attr_05637_4056", "Attr_05637_4060",
    "Attr_05637_4064", "Attr_05637_4066", "Attr_05637_4067", "Attr_05637_4068",
    "Attr_05637_4069", "Attr_05637_4072", "Attr_05637_4075", "Attr_05637_4076",
    "Attr_05637_4077", "Attr_05637_4078", "Attr_05637_4079", "Attr_05637_4080",
    "Attr_05637_4082", "Attr_05637_4084", "Attr_05637_4085", "Attr_05637_4086",
    "Attr_05637_4087", "Attr_05637_4090", "Attr_05637_4091", "Attr_05637_4094",
    "Attr_05637_4095", "Attr_05637_4098", "Attr_05637_4099", "Attr_05637_4102",
    "Attr_05637_4103", "Attr_05637_4106", "Attr_05637_4107", "Attr_05637_4110",
    "Attr_05637_4111", "Attr_05637_4114", "Attr_05637_4115", "Attr_05637_4116",
    "Attr_05637_4117", "Attr_05637_4119", "Attr_05637_4120", "Attr_05637_4121",
    "Attr_05637_4122", "Attr_05637_4123", "Attr_05637_4124", "Attr_05637_4125",
    "Attr_05637_4126", "Attr_05637_4127", "Attr_05637_4128", "Attr_05637_4130",
    "Attr_05637_4133", "Attr_05637_4135", "Attr_05637_4136", "Attr_05637_4137",
    "Attr_05637_4138", "Attr_05637_4143", "Attr_05637_4144", "Attr_05637_4145",
    "Attr_05637_4147", "Attr_05637_4148", "Attr_05637_4150", "Attr_05637_4151",
    "Attr_05637_4152", "Attr_05637_4153", "Attr_05637_4154", "Attr_05637_4155",
    "Attr_05637_4156", "Attr_05637_4157", "Attr_05637_4158", "Attr_05637_4160",
    "Attr_05637_4161", "Attr_05637_4162", "Attr_05637_4163", "Attr_05637_4164",
    "Attr_05637_4165", "Attr_05637_4166", "Attr_05637_4167", "Attr_05637_4168",
    "Attr_05637_4169", "Attr_05637_4170", "Attr_05637_4175", "Attr_05637_4184",
    "Attr_05637_4186", "Attr_05637_4188", "Attr_05637_4190", "Attr_05637_4191",
    "Attr_05637_4192", "Attr_05637_4193", "Attr_05637_4199", "Attr_05637_4203",
    "Attr_05637_4204", "Attr_05637_4207", "Attr_05637_4208", "Attr_05637_4211",
    "Attr_05637_4212", "Attr_05637_4214", "Attr_05637_4215", "Attr_05637_4217",
    "Attr_05637_4218", "Attr_05637_4221", "Attr_05637_4224", "Attr_05637_4227",
    "Attr_05637_4228", "Attr_05637_4229", "Attr_05637_4230", "Attr_05637_4232",
    "Attr_05637_4233", "Attr_05637_4234", "Attr_05637_4236", "Attr_05637_4237",
    "Attr_05637_4239", "Attr_05637_4240", "Attr_05637_4242", "Attr_05637_4243",
    "Attr_05637_4245", "Attr_05637_4246", "Attr_05637_4247", "Attr_05637_4248",
    "Attr_05637_4250", "Attr_05637_4251", "Attr_05637_4252", "Attr_05637_4253",
    "Attr_05637_4255", "Attr_05637_4256", "Attr_05637_4257", "Attr_05637_4258",
    "Attr_05637_4259", "Attr_05637_4260", "Attr_05637_4272", "Attr_05637_4276",
    "Attr_05637_4277", "Attr_05637_4278", "Attr_05637_4280", "Attr_05637_4295",
    "Attr_05637_4301", "Attr_05637_4302", "Attr_05637_5089", "Attr_05637_5249",
    "Attr_05637_5274", "Attr_05637_5278", "Attr_05637_6002", "Attr_05637_6004",
    "Attr_05637_6009", "Attr_05637_6015", "Attr_05637_6020", "Attr_05637_6026",
    "Attr_05637_6037", "Attr_05637_6039", "Attr_05637_6041", "Attr_05637_6043",
    "Attr_05637_6045", "Attr_05637_6048", "Attr_05637_6052", "Attr_05637_6056",
    "Attr_05637_6060", "Attr_05637_6064", "Attr_05637_6070", "Attr_05637_6071",
    "Attr_05637_6075", "Attr_05637_6078", "Attr_05637_6079", "Attr_05637_6081",
    "Attr_05637_6084", "Attr_05637_6085", "Attr_05637_6086", "Attr_05637_6090",
    "Attr_05637_6094", "Attr_05637_6098", "Attr_05637_6102", "Attr_05637_6117",
    "Attr_05637_6118", "Attr_05637_6120", "Attr_05637_6121", "Attr_05637_6124",
    "Attr_05637_6127", "Attr_05637_6130", "Attr_05637_6133", "Attr_05637_6135",
    "Attr_05637_6136", "Attr_05637_6137", "Attr_05637_6138", "Attr_05637_6139",
    "Attr_05637_6140", "Attr_05637_6141", "Attr_05637_6142", "Attr_05637_6143",
    "Attr_05637_6144", "Attr_05637_6145", "Attr_05637_6146", "Attr_05637_6151",
    "Attr_05637_6152", "Attr_05637_6153", "Attr_05637_6154", "Attr_05637_6155",
    "Attr_05637_6156", "Attr_05637_6157", "Attr_05637_6160", "Attr_05637_6161",
    "Attr_05637_6163", "Attr_05637_6164", "Attr_05637_6165", "Attr_05637_6167",
    "Attr_05637_6168", "Attr_05637_6169", "Attr_05637_6170", "Attr_05637_6173",
    "Attr_05637_6174", "Attr_05637_6177", "Attr_05637_6179", "Attr_05637_6181",
    "Attr_05637_6183", "Attr_05637_6184", "Attr_05637_6188", "Attr_05637_6189",
    "Attr_05637_6194", "Attr_05637_6200", "Attr_05637_6202", "Attr_05637_6208",
    "Attr_05637_6211", "Attr_05637_6214", "Attr_05637_6217", "Attr_05637_6220",
    "Attr_05637_6223", "Attr_05637_6226", "Attr_05637_6228", "Attr_05637_6229",
    "Attr_05637_6232", "Attr_05637_6233", "Attr_05637_6236", "Attr_05637_6239",
    "Attr_05637_6242", "Attr_05637_6244", "Attr_05637_6246", "Attr_05637_6248",
    "Attr_05637_6250", "Attr_05637_6253", "Attr_05637_6256", "Attr_05637_6259",
    "Attr_05637_6273", "Attr_05637_6277", "Attr_05637_6281", "Attr_05637_6299",
    "Attr_05149_6056", "Attr_05149_6057", "Attr_05149_6058", "Attr_05149_6059",
    "Attr_05149_6060", "Attr_05149_6061", "Attr_05149_6062", "Attr_05149_6063",
    "Attr_05149_6064", "Attr_05149_6065", "Attr_05149_6066", "Attr_05149_6067",
    "Attr_05149_6068", "Attr_05149_6069", "Attr_05149_6070", "Attr_05149_6071",
    "Attr_05149_6072", "Attr_05149_6073", "Attr_05149_6074", "Attr_05149_6075",
    "Attr_05149_6076", "Attr_05149_6077", "Attr_05149_6078", "Attr_05149_6079",
    "Attr_05149_6080", "Attr_05149_6081", "Attr_05149_6083", "Attr_05149_6084",
    "Attr_05149_6085", "Attr_05149_6086", "Attr_05149_6087", "Attr_05149_6088",
    "Attr_05149_6089", "Attr_05149_6090", "Attr_05149_6091", "Attr_05149_6093",
    "Attr_05149_6094", "Attr_05149_6095", "Attr_05149_6096", "Attr_05149_6097",
    "Attr_05149_6098", "Attr_05149_6099", "Attr_05149_6100", "Attr_05149_6101",
    "Attr_05149_6102", "Attr_05149_6103", "Attr_05149_6104", "Attr_05149_6105",
    "Attr_05149_6106", "Attr_05149_6107", "Attr_05149_6108", "Attr_05149_6109",
    "Attr_05149_6110", "Attr_05149_6111", "Attr_05149_6112", "Attr_05149_6113",
    "Attr_05149_6114", "Attr_05149_6115", "Attr_05149_6116", "Attr_05149_6117",
    "Attr_05149_6118", "Attr_05149_6119", "Attr_05149_6120", "Attr_05149_6121",
    "Attr_05149_6122", "Attr_05149_6123", "Attr_05149_6124", "Attr_05149_6125",
    "Attr_05149_6126", "Attr_05149_6127", "Attr_05149_6128", "Attr_05149_6129",
    "Attr_05149_6130", "Attr_05149_6131", "Attr_05149_6132", "Attr_05149_6133",
    "Attr_05149_6134", "Attr_05149_6135", "Attr_05149_6136", "Attr_05149_6137",
    "Attr_05149_6138", "Attr_05149_6139", "Attr_05149_6140", "Attr_05149_6141",
    "Attr_05149_6142", "Attr_05149_6144", "Attr_05149_6145", "Attr_05149_6146",
    "Attr_05149_6147", "Attr_05149_6148", "Attr_05149_6149", "Attr_05149_6151",
    "Attr_05149_6152", "Attr_05149_6153", "Attr_05149_6154", "Attr_05149_6155",
    "Attr_05149_6156", "Attr_05149_6157", "Attr_05149_6158", "Attr_05149_6159",
    "Attr_05149_6161", "Attr_05149_6162", "Attr_05149_6164", "Attr_05149_6165",
    "Attr_05149_6166", "Attr_05149_6167", "Attr_05149_6168", "Attr_05149_6169",
    "Attr_05149_6170", "Attr_05149_6171", "Attr_05149_6172", "Attr_05149_6173",
    "Attr_05149_6174", "Attr_05149_6175", "Attr_05149_6176", "Attr_05149_6177",
    "Attr_05149_6178", "Attr_05149_6179", "Attr_05149_6180", "Attr_05149_6181",
    "Attr_05149_6182", "Attr_05149_6183", "Attr_05149_6184", "Attr_05149_6185",
    "Attr_05149_6186", "Attr_05149_6187", "Attr_05149_6188", "Attr_05149_6189",
    "Attr_05149_6190", "Attr_05149_6191", "Attr_05149_6192", "Attr_05149_6193",
    "Attr_05149_6194", "Attr_05149_6195", "Attr_05149_6196", "Attr_05149_6197",
    "Attr_05149_6198", "Attr_05149_6199", "Attr_05149_6200", "Attr_05149_6201",
    "Attr_05149_6202", "Attr_05149_6203", "Attr_05149_6204", "Attr_05149_6205",
    "Attr_05149_6206", "Attr_05149_6207", "Attr_05149_6208", "Attr_05149_6209",
    "Attr_05149_6210", "Attr_05149_6211", "Attr_05149_6212", "Attr_05149_6213",
    "Attr_05149_6214", "Attr_05149_6215", "Attr_05149_6216", "Attr_05149_6217",
    "Attr_05149_6218", "Attr_05149_6219", "Attr_05149_6220", "Attr_05149_6221",
    "Attr_05149_6222", "Attr_05149_6223", "Attr_05149_6224", "Attr_05149_6225",
    "Attr_05149_6226", "Attr_05149_6227", "Attr_05149_6228", "Attr_05149_6229",
    "Attr_05149_6230", "Attr_05149_6231", "Attr_05149_6232", "Attr_05149_6233",
    "Attr_05149_6234", "Attr_05149_6235", "Attr_05149_6236", "Attr_05149_6237",
    "Attr_05149_6238", "Attr_05149_6239", "Attr_05149_6240", "Attr_05149_6241",
    "Attr_05149_6242", "Attr_05149_6243", "Attr_05149_6244", "Attr_05149_6245",
    "Attr_05149_6246", "Attr_05149_6247", "Attr_05149_6248", "Attr_05149_6249",
    "Attr_05149_6250", "Attr_05149_6251", "Attr_05149_6252", "Attr_05149_6253",
    "Attr_05149_6254", "Attr_05149_6255", "Attr_05149_6256", "Attr_05149_6257",
    "Attr_05149_6258", "Attr_05149_6259", "Attr_05149_6260", "Attr_05149_6261",
    "Attr_05149_6262", "Attr_05149_6263", "Attr_05149_6264", "Attr_05149_6265",
    "Attr_05149_6266", "Attr_05149_6267", "Attr_05149_6268", "Attr_05149_6269",
    "Attr_05149_6270", "Attr_05149_6271", "Attr_05149_6272", "Attr_05149_6273",
    "Attr_05149_6274", "Attr_05149_6275", "Attr_05149_6276", "Attr_05149_6277",
    "Attr_05149_6278", "Attr_05149_6279", "Attr_05149_6280", "Attr_05149_6281",
    "Attr_05149_6282", "Attr_05149_6283", "Attr_05149_6284", "Attr_05149_6285",
    "Attr_05149_6286", "Attr_05149_6287", "Attr_05149_6288", "Attr_05149_6289",
    "Attr_05149_6290", "Attr_05149_6291", "Attr_05149_6292", "Attr_05149_6293",
    "Attr_05149_6294", "Attr_05149_6295", "Attr_05149_6296", "Attr_05149_6297",
    "Attr_05149_6298", "Attr_05149_6299", "Attr_05149_6300", "Attr_05149_6301",
    "Attr_05149_6302", "Attr_05149_6303", "Attr_05149_6304", "Attr_05149_6305",
    "Attr_05149_6306", "Attr_05149_6307", "Attr_05149_6308", "Attr_05149_6309",
    "Attr_05149_6310", "Attr_05149_6311", "Attr_05149_6312", "Attr_05149_6313",
    "Attr_05149_6314", "Attr_05149_6315", "Attr_05149_6316", "Attr_05149_6317",
    "Attr_05149_6318", "Attr_05149_6319", "Attr_05149_6320", "Attr_05149_6321",
    "Attr_05149_6322", "Attr_05149_6323", "Attr_05149_6324", "Attr_05149_6325",
    "Attr_05149_6326", "Attr_05149_6327", "Attr_05149_6328", "Attr_05149_6329",
    "Attr_05149_6330", "Attr_05149_6331", "Attr_05149_6332", "Attr_05149_6333",
    "Attr_05149_6334", "Attr_05149_6335", "Attr_05149_6336", "Attr_05149_6337",
    "Attr_05149_6338", "Attr_05149_6340", "Attr_05149_6341", "Attr_05149_6342",
    "Attr_05149_6343", "Attr_05149_6344", "Attr_05149_6345", "Attr_05149_6346",
    "Attr_05149_6347", "Attr_05149_6348", "Attr_05149_6349", "Attr_05149_6350",
    "Attr_05149_6351", "Attr_05149_6352", "Attr_05149_6353", "Attr_05149_6354",
    "Attr_05149_6355", "Attr_05149_6356", "Attr_05149_6357", "Attr_05149_6358",
    "Attr_05149_6359", "Attr_05149_6360", "Attr_05149_6362", "Attr_05149_6363",
    "Attr_05149_6364", "Attr_05149_6365", "Attr_05149_6366", "Attr_05149_6368",
    "Attr_05149_6369", "Attr_05149_6370", "Attr_05149_6371", "Attr_05149_6372",
    "Attr_05149_6373", "Attr_05149_6374", "Attr_05149_6375", "Attr_05149_6376",
    "Attr_05149_6377", "Attr_05149_6378", "Attr_05149_6379", "Attr_05149_6380",
    "Attr_05149_6381", "Attr_05149_6382", "Attr_05149_6383", "Attr_05149_6384",
    "Attr_05149_6385", "Attr_05149_6386", "Attr_05149_6387", "Attr_05149_6388",
    "Attr_05149_6390", "Attr_05149_6391", "Attr_05149_6392", "Attr_05149_6393",
    "Attr_05149_6394", "Attr_05149_6395", "Attr_05149_6396", "Attr_05149_6397",
    "Attr_05149_6398", "Attr_05149_6399", "Attr_05149_6400", "Attr_05149_6402",
    "Attr_05149_6403", "Attr_05149_6404", "Attr_05149_6405", "Attr_05149_6406",
    "Attr_05149_6407", "Attr_05149_6408", "Attr_05149_6409", "Attr_05149_6410",
    "Attr_05149_6411", "Attr_05149_6412", "Attr_05149_6413", "Attr_05149_6414",
    "Attr_05149_6415", "Attr_05149_6416", "Attr_05149_6417", "Attr_05149_6418",
    "Attr_05149_6419", "Attr_05149_6420", "Attr_05149_6421", "Attr_05149_6422",
    "Attr_05149_6423", "Attr_05149_6424", "Attr_05149_6425", "Attr_05149_6426",
    "Attr_05149_6427", "Attr_05149_6428", "Attr_05149_6429", "Attr_05149_6430",
    "Attr_05149_6431", "Attr_05149_6432", "Attr_05149_6433", "Attr_05149_6434",
    "Attr_05149_6435", "Attr_05149_6436", "Attr_05149_6437", "Attr_05149_6438",
    "Attr_05149_6439", "Attr_05149_6440", "Attr_05149_6441", "Attr_05149_6442",
    "Attr_05149_6443", "Attr_05149_6444", "Attr_05149_6445", "Attr_05149_6446",
    "Attr_05149_6447", "Attr_05149_6448", "Attr_05149_6449", "Attr_05149_6450",
    "Attr_05149_6451", "Attr_05149_6452", "Attr_05149_6453", "Attr_05149_6454",
    "Attr_05149_6455", "Attr_05149_6456", "Attr_05149_6457", "Attr_05149_6458",
    "Attr_05149_6459", "Attr_05149_6460", "Attr_05149_6461", "Attr_05149_6462",
    "Attr_05149_6463", "Attr_05149_6464", "Attr_05149_6465", "Attr_05149_6466",
    "Attr_05149_6467", "Attr_05149_6468", "Attr_05149_6469", "Attr_05149_6470",
    "Attr_05149_6471", "Attr_05149_6472", "Attr_05149_6473", "Attr_05149_6474",
    "Attr_05149_6475", "Attr_05149_6476", "Attr_05149_6477", "Attr_05149_6478",
    "Attr_05149_6479", "Attr_05149_6480", "Attr_05149_6481", "Attr_05149_6482",
    "Attr_05149_6483", "Attr_05149_6484", "Attr_05149_6485", "Attr_05149_6486",
    "Attr_05149_6487", "Attr_05149_6488", "Attr_05149_6489", "Attr_05149_6490",
    "Attr_05149_6491", "Attr_05149_6492", "Attr_05149_6493", "Attr_05149_6494",
    "Attr_05149_6495", "Attr_05149_6496", "Attr_05149_6497", "Attr_05149_6498",
    "Attr_05149_6499", "Attr_05149_6500"
]

def process_attribute(name, models):
    _, model, id = name.split('_')
    try:
        return str(float(models[model][id]))
    except:
        return "0.0"

def get_raw_score(credit_report):
    try:
        return str(credit_report['models'][0]['score'])
    except:
        return "0.0"

def get_payload(credit_report):
    rows = [get_raw_score(credit_report)]
    all_attributes = parse_attributes(credit_report)
    for field in fields[1:]:
        rows.append(process_attribute(field, all_attributes))
    return json.dumps({
            "fields": fields,
            "rows": [rows],
            "requestShapleyValueType": "ORIGINAL"
        })

def parse_attributes(credit_report):
    # Initialize the result dictionary
    result = {}
    # Extract the attributes section
    attributes = credit_report.get("attributes", [])
    for model in attributes:
        model_number = model.get("modelNumber")
        if model_number is None:
            continue
        values = model.get("attributes", [])
        value_dict = {}
        for attribute in values:
            key = attribute.get("identifier")
            value = attribute.get("value")
            value_dict[key] = value
        result[model_number] = value_dict
    return result


def flexcar_h2o_model(credit_report):
    payload = get_payload(credit_report)
    url = "https://model.9497924.dedicated.h2o.ai/DAI_3M_Rebuild/model/score"
    headers = {
        "Authorization": "Bearer WpcN7DScRzm2Yw7D_tG0DzwuMyomJW-om8airEWHQ4E",
        "Content-Type": "application/json"
    }
    print(f"url {url}, headers = {headers}, payload = {payload}")
    response = requests.post(url, headers=headers, data=payload)
    results = json.loads(response.text)
    print(results)
    query_params = {"url": url, "payload": payload}
    score = results['score'][0][0]
    # return score, query_params
    return {"score": score, "query_params": query_params}